{"ast":null,"code":"import _slicedToArray from \"/Users/kw/Desktop/cscc09/project-pacer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/StudentRightMenu.jsx\";\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Divider from '@mui/material/Divider';\nimport Drawer from '@mui/material/Drawer';\nimport HelpIcon from '@mui/icons-material/SupportAgent';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button, Stack } from '@mui/material';\nimport CallIcon from \"@mui/icons-material/Call\";\nimport CloseIcon from '@mui/icons-material/Close';\nimport { authenticationService } from '../_services'; // [kw]\n\nimport React from 'react';\nimport Notifications from './Notifications'; // function StudentRightMenu({drawerWidth}) {\n\nfunction StudentRightMenu(_ref) {\n  var drawerWidth = _ref.drawerWidth,\n      socket = _ref.socket,\n      roomId = _ref.roomId,\n      setSocketFlag = _ref.setSocketFlag,\n      setupCall = _ref.setupCall,\n      callInprogress = _ref.callInprogress;\n\n  var _React$useState = React.useState(function () {\n    return null;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      notificationToggle = _React$useState2[0],\n      setNotificationToggle = _React$useState2[1];\n\n  function requestHelp() {\n    console.log(\"help requested\"); // new\n\n    socket.emit(\"help request\", roomId);\n    setNotificationToggle(!notificationToggle);\n  }\n\n  function logoutHandler() {\n    // socket.emit(\"room update\");\n    socket.emit(\"disconnect audio\", roomId);\n    socket.emit(\"room update\");\n    socket.removeAllListeners();\n    socket.disconnect();\n    authenticationService.logout();\n    setSocketFlag(false);\n  }\n\n  var drawer = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    key: \"Request Help\",\n    disablePadding: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListItemButton, {\n    onClick: function onClick() {\n      return requestHelp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(HelpIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Request Help\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"call-button\",\n    onClick: setupCall,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, callInprogress ? /*#__PURE__*/React.createElement(CloseIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(CallIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 59\n    }\n  })));\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    sx: {\n      width: {\n        sm: \"100%\"\n      },\n      ml: {\n        sm: \"\".concat(drawerWidth, \"px\")\n      },\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 1;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    sx: {\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    noWrap: true,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Pacer\"), /*#__PURE__*/React.createElement(Stack, {\n    direction: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"romm-user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"roomId: \".concat(roomId)), /*#__PURE__*/React.createElement(Button, {\n    position: \"fixed\",\n    component: \"div\",\n    className: \"logoutButton\",\n    variant: \"contained\",\n    color: \"error\",\n    sx: {\n      color: \"#fff\",\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 2;\n      }\n    },\n    onClick: logoutHandler // onClick={authenticationService.logout}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Logout\")))), /*#__PURE__*/React.createElement(Box, {\n    component: \"nav\",\n    sx: {\n      width: {\n        sm: drawerWidth\n      },\n      flexShrink: {\n        sm: 0\n      }\n    },\n    \"aria-label\": \"mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    sx: {\n      display: {\n        xs: 'none',\n        sm: 'block'\n      },\n      '& .MuiDrawer-paper': {\n        boxSizing: 'border-box',\n        width: drawerWidth\n      }\n    },\n    anchor: \"right\",\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, drawer)), /*#__PURE__*/React.createElement(Notifications, {\n    msg: \"Help Requested!\",\n    variant: \"success\",\n    open: notificationToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default StudentRightMenu;","map":{"version":3,"names":["AppBar","Box","CssBaseline","Divider","Drawer","HelpIcon","List","ListItem","ListItemButton","ListItemIcon","ListItemText","Toolbar","Typography","Button","Stack","CallIcon","CloseIcon","authenticationService","React","Notifications","StudentRightMenu","drawerWidth","socket","roomId","setSocketFlag","setupCall","callInprogress","useState","notificationToggle","setNotificationToggle","requestHelp","console","log","emit","logoutHandler","removeAllListeners","disconnect","logout","drawer","width","sm","ml","zIndex","theme","justifyContent","color","flexShrink","display","xs","boxSizing"],"sources":["/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/StudentRightMenu.jsx"],"sourcesContent":["import AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Divider from '@mui/material/Divider';\nimport Drawer from '@mui/material/Drawer';\nimport HelpIcon from '@mui/icons-material/SupportAgent';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button, Stack } from '@mui/material';\n\nimport CallIcon from \"@mui/icons-material/Call\";\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport { authenticationService } from '../_services';\n// [kw]\nimport React from 'react';\nimport Notifications from './Notifications';\n\n// function StudentRightMenu({drawerWidth}) {\nfunction StudentRightMenu({drawerWidth, socket, roomId, setSocketFlag, setupCall, callInprogress}) {\n  const [notificationToggle, setNotificationToggle] = React.useState(() => null);\n\n  function requestHelp() {\n    console.log(\"help requested\")\n    // new\n    socket.emit(\"help request\", roomId);\n    setNotificationToggle(!notificationToggle)\n  }\n\n  function logoutHandler(){\n    // socket.emit(\"room update\");\n    socket.emit(\"disconnect audio\", roomId)\n    socket.emit(\"room update\");\n    socket.removeAllListeners();\n    socket.disconnect();\n    authenticationService.logout();\n\n    setSocketFlag(false)\n  }\n\n  const drawer = (\n    <div>\n      <Toolbar />\n      <Divider />\n      <List>\n        <ListItem key='Request Help' disablePadding>\n          <ListItemButton onClick={() => requestHelp()}>\n            <ListItemIcon>\n              <HelpIcon />\n            </ListItemIcon>\n            <ListItemText primary='Request Help' />\n          </ListItemButton>\n        </ListItem>\n      </List>\n      <button className=\"call-button\" onClick={setupCall}>\n        {callInprogress ? <CloseIcon fontSize=\"large\"/> : <CallIcon fontSize=\"large\"/>}\n      </button>\n    </div>\n  );\n\n  return (\n    <Box>\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          width: { sm: `100%` },\n          ml: { sm: `${drawerWidth}px` },\n          zIndex: (theme) => theme.zIndex.drawer + 1\n        }}\n      >\n        <Toolbar sx={{ justifyContent: \"space-between\" }}>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Pacer\n          </Typography>\n          <Stack direction=\"row\">\n            <p className=\"romm-user-info\">{`roomId: ${roomId}`}</p>\n          <Button position=\"fixed\" component=\"div\" className=\"logoutButton\"\n          variant=\"contained\"\n          color=\"error\"\n          sx={{\n            color: \"#fff\",\n            zIndex: (theme) => theme.zIndex.drawer + 2,\n          }}\n          onClick={logoutHandler}\n          // onClick={authenticationService.logout}\n        >\n          Logout\n        </Button>\n        </Stack>\n        </Toolbar>\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n        aria-label=\"mailbox folders\"\n      >\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { xs: 'none', sm: 'block' },\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\n          }}\n          anchor=\"right\"\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n    <Notifications msg=\"Help Requested!\" variant=\"success\" open={notificationToggle} />\n    </Box>\n  );\n}\n\nexport default StudentRightMenu\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}