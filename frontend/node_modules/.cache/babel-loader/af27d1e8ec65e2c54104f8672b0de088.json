{"ast":null,"code":"import _slicedToArray from \"/Users/kw/Desktop/cscc09/project-pacer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/TeacherRightMenu.jsx\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport { Button } from \"@mui/material\";\nimport { authenticationService, socket } from \"../_services\"; // [kw]\n\nimport React, { useEffect } from 'react';\nimport Notifications from './Notifications';\n\nfunction getConnectedStudents() {\n  return [\"Student1\", \"Student2\", \"Student3\", \"Student4\"];\n}\n\nfunction TeacherRightMenu(_ref) {\n  var _this = this;\n\n  var drawerWidth = _ref.drawerWidth,\n      setDisplayStudent = _ref.setDisplayStudent,\n      setStudentName = _ref.setStudentName,\n      connectedUsers = _ref.connectedUsers,\n      socket = _ref.socket;\n\n  var _React$useState = React.useState(function () {\n    return null;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      notificationToggle = _React$useState2[0],\n      setNotificationToggle = _React$useState2[1];\n\n  var _React$useState3 = React.useState(function () {\n    return \"default msg\";\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      helpMsg = _React$useState4[0],\n      setHelpMsg = _React$useState4[1];\n\n  React.useEffect(function () {\n    socket.on(\"help request\", function (stuId, username) {\n      // todo: data for help request implementation\n      console.log(\"[TeacherPage - help request] student [\".concat(username, \"] need help; student socket id: \").concat(stuId, \" \"));\n      var msg = \"Help requested from \".concat(username, \" with socket id \").concat(stuId);\n      setHelpMsg(function (oldmsg) {\n        return msg;\n      });\n      setNotificationToggle(function (oldState) {\n        return !oldState;\n      });\n    });\n  }, []);\n\n  function loadStudentSession(studentName, studentCurSocket) {\n    setDisplayStudent(true);\n    console.log(studentName);\n    setStudentName(studentName);\n    socket.emit(\"fetch code\", studentCurSocket, socket.id);\n  }\n\n  function logoutHandler() {\n    // socket.disconnect()\n    // socket.emit(\"disconnection broadcast\");\n    authenticationService.logout();\n    socket.disconnect();\n  } // useEffect(() => {\n  //   console.log(\"current Socket Id:\", socket.id)\n  //   }, []\n  // )\n\n\n  var drawer = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, connectedUsers.map(function (text, index) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: text.SktId,\n      disablePadding: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListItemButton, {\n      value: text.SktId,\n      onClick: function onClick() {\n        return loadStudentSession(text.curUser, text.SktId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: text.SktId,\n      secondary: text.curUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    sx: {\n      width: {\n        sm: \"100%\"\n      },\n      ml: {\n        sm: \"\".concat(drawerWidth, \"px\")\n      },\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 1;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    sx: {\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    noWrap: true,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Pacer\"), /*#__PURE__*/React.createElement(Button, {\n    position: \"fixed\",\n    component: \"div\",\n    className: \"logoutButton\",\n    variant: \"contained\",\n    color: \"error\",\n    sx: {\n      color: \"#fff\",\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 2;\n      }\n    },\n    onClick: authenticationService.logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"Logout\"))), /*#__PURE__*/React.createElement(Box, {\n    component: \"nav\",\n    sx: {\n      width: {\n        sm: drawerWidth\n      },\n      flexShrink: {\n        sm: 0\n      }\n    },\n    \"aria-label\": \"mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    sx: {\n      display: {\n        xs: \"none\",\n        sm: \"block\"\n      },\n      \"& .MuiDrawer-paper\": {\n        boxSizing: \"border-box\",\n        width: drawerWidth\n      }\n    },\n    anchor: \"right\",\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, drawer)), /*#__PURE__*/React.createElement(Notifications, {\n    msg: helpMsg,\n    variant: \"info\",\n    open: notificationToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default TeacherRightMenu;","map":{"version":3,"names":["AppBar","Box","CssBaseline","Divider","Drawer","PersonIcon","List","ListItem","ListItemButton","ListItemIcon","ListItemText","Toolbar","Typography","Button","authenticationService","socket","React","useEffect","Notifications","getConnectedStudents","TeacherRightMenu","drawerWidth","setDisplayStudent","setStudentName","connectedUsers","useState","notificationToggle","setNotificationToggle","helpMsg","setHelpMsg","on","stuId","username","console","log","msg","oldmsg","oldState","loadStudentSession","studentName","studentCurSocket","emit","id","logoutHandler","logout","disconnect","drawer","map","text","index","SktId","curUser","width","sm","ml","zIndex","theme","justifyContent","color","flexShrink","display","xs","boxSizing"],"sources":["/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/TeacherRightMenu.jsx"],"sourcesContent":["import AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport { Button } from \"@mui/material\";\nimport { authenticationService, socket } from \"../_services\";\n// [kw]\nimport React, { useEffect } from 'react';\nimport Notifications from './Notifications';\n\nfunction getConnectedStudents() {\n    return [\"Student1\", \"Student2\", \"Student3\", \"Student4\"]\n}\n\n\nfunction TeacherRightMenu({ drawerWidth, setDisplayStudent, setStudentName, connectedUsers, socket }) {\n  const [notificationToggle, setNotificationToggle] = React.useState(() => null);\n  const [helpMsg, setHelpMsg] = React.useState(() => \"default msg\");\n\n  React.useEffect(() => {\n    socket.on(\"help request\", (stuId, username) => {\n      // todo: data for help request implementation\n      console.log(\n        `[TeacherPage - help request] student [${username}] need help; student socket id: ${stuId} `\n      );\n      const msg = `Help requested from ${username} with socket id ${stuId}`\n      setHelpMsg(oldmsg => msg)\n      setNotificationToggle(oldState => !oldState)\n    });\n  }, [])\n\n  function loadStudentSession(studentName, studentCurSocket) {\n      setDisplayStudent(true)\n      console.log(studentName)\n      setStudentName(studentName)\n      socket.emit(\"fetch code\", studentCurSocket, socket.id)\n  }\n\n  function logoutHandler(){\n    // socket.disconnect()\n    // socket.emit(\"disconnection broadcast\");\n    authenticationService.logout();\n    socket.disconnect()\n  }\n\n\n  // useEffect(() => {\n  //   console.log(\"current Socket Id:\", socket.id)\n  //   }, []\n  // )\n    \n  const drawer = (\n    <div>\n      <Toolbar />\n      <Divider />\n      <List>\n        {connectedUsers.map((text, index) => (\n          <ListItem key={text.SktId} disablePadding>\n            <ListItemButton value={text.SktId} onClick={() => loadStudentSession(text.curUser, text.SktId)}>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n              <ListItemText primary={text.SktId} secondary={text.curUser}/>\n            </ListItemButton>\n          </ListItem>\n        ))}\n      </List>\n      <Divider />\n      {/* <List>\n        {[\"Item5\", \"Item6\", \"Item7\"].map((text, index) => (\n          <ListItem key={text} disablePadding>\n            <ListItemButton>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItemButton>\n          </ListItem>\n        ))}\n      </List> */}\n    </div>\n  );\n\n  return (\n    <Box>\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          width: { sm: `100%` },\n          ml: { sm: `${drawerWidth}px` },\n          zIndex: (theme) => theme.zIndex.drawer + 1,\n        }}\n      >\n        <Toolbar sx={{ justifyContent: \"space-between\" }}>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Pacer\n          </Typography>\n          <Button\n            position=\"fixed\"\n            component=\"div\"\n            className=\"logoutButton\"\n            variant=\"contained\"\n            color=\"error\"\n            sx={{\n              color: \"#fff\",\n              zIndex: (theme) => theme.zIndex.drawer + 2,\n            }}\n            onClick={authenticationService.logout}\n          >\n            Logout\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n        aria-label=\"mailbox folders\"\n      >\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { xs: \"none\", sm: \"block\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n          anchor=\"right\"\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n    <Notifications msg={helpMsg} variant=\"info\" open={notificationToggle} />\n    </Box>\n  );\n}\n\nexport default TeacherRightMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}