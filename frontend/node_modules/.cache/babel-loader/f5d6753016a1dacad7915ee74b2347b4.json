{"ast":null,"code":"import _slicedToArray from \"/Users/kw/Desktop/cscc09/project-pacer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/kw/Desktop/cscc09/project-pacer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _MuiSliderThumb,\n    _jsxFileName = \"/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/TeacherRightMenu.jsx\";\n\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport { Button, styled } from \"@mui/material\";\nimport { authenticationService, socket } from \"../_services\"; // [kw]\n\nimport React, { useEffect } from 'react';\nimport Notifications from './Notifications';\nvar CustomEntry = styled(ListItem)({\n  backgroundColor: 'var(--color)',\n  '& .MuiSlider-thumb': (_MuiSliderThumb = {}, _defineProperty(_MuiSliderThumb, \"&:hover, &.Mui-focusVisible\", {\n    boxShadow: '0px 0px 0px 8px var(--box-shadow)'\n  }), _defineProperty(_MuiSliderThumb, \"&.Mui-active\", {\n    boxShadow: '0px 0px 0px 14px var(--box-shadow)'\n  }), _MuiSliderThumb)\n});\nvar connectedState = {\n  '--color': '#4caf50',\n  '--box-shadow': 'rgb(76, 175, 80, .16)'\n};\nvar requestingHelpState = {\n  '--color': '#FF8C00',\n  '--box-shadow': 'rgb(76, 175, 80, .16)'\n};\nvar defaultState = {\n  '--color': '#FFF',\n  '--box-shadow': 'rgb(25, 118, 210, .16)'\n};\n\nfunction TeacherRightMenu(_ref) {\n  var _this = this;\n\n  var drawerWidth = _ref.drawerWidth,\n      setDisplayStudent = _ref.setDisplayStudent,\n      setStudentName = _ref.setStudentName,\n      connectedUsers = _ref.connectedUsers,\n      setConnectedUsers = _ref.setConnectedUsers,\n      socket = _ref.socket,\n      roomId = _ref.roomId,\n      setSocketFlag = _ref.setSocketFlag,\n      setCurUser = _ref.setCurUser;\n  console.log(connectedUsers);\n\n  var _React$useState = React.useState(function () {\n    return null;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      notificationToggle = _React$useState2[0],\n      setNotificationToggle = _React$useState2[1];\n\n  var _React$useState3 = React.useState(function () {\n    return \"default msg\";\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      helpMsg = _React$useState4[0],\n      setHelpMsg = _React$useState4[1];\n\n  var _React$useState5 = React.useState(function () {\n    var res = {};\n    connectedUsers.forEach(function (e) {\n      res[e.SktId] = defaultState;\n    });\n    console.log(res);\n    return res;\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userState = _React$useState6[0],\n      setUserState = _React$useState6[1]; // const [isTriggered, setIsTriggered] = React.useState(() => \"\")\n  // React.useEffect(() => {\n  //   let timer = null\n  //   if (isTriggered) {\n  //     timer = setTimeout(() => {\n  //       setUserState((next) => {\n  //         if (next[isTriggered] === requestingHelpState) {\n  //           next[isTriggered] = defaultState\n  //           console.log(\"triggered\")\n  //           return next\n  //         }\n  //       })\n  //       setIsTriggered(false)\n  //     })\n  //   }\n  //   return () => clearTimeout(timer);\n  // }, [isTriggered])\n\n\n  React.useEffect(function () {\n    // todo-kw: revisit\n    // if (socket){\n    socket.on(\"help request\", function (stuId, username) {\n      console.log(\"[TeacherPage - help request] student [\".concat(username, \"] need help; student socket id: \").concat(stuId, \" \"));\n      setUserState(function (existing) {\n        if (existing[stuId] !== connectedState) {\n          existing[stuId] = requestingHelpState;\n          console.log(existing); // setIsTriggered(stuId)\n        }\n\n        return existing;\n      });\n      var msg = \"Help requested from student \".concat(username);\n      setHelpMsg(function (oldmsg) {\n        return msg;\n      });\n      setNotificationToggle(function (oldState) {\n        return !oldState;\n      });\n    }); // }\n  }, []);\n\n  function loadStudentSession(studentName, studentCurSocket) {\n    if (!socket.sid || socket.sid !== studentCurSocket) {\n      console.log(\"else right menu: \".concat(socket.sid));\n      setUserState(function (existing) {\n        Object.keys(existing).forEach(function (key) {\n          existing[key] = defaultState;\n        });\n        existing[studentCurSocket] = connectedState;\n        console.log(existing);\n        return existing;\n      });\n      setStudentName(studentName);\n      socket.on = true;\n      setDisplayStudent(true);\n      socket.emit(\"fetch code\", studentCurSocket, socket.id, socket.userRoom);\n    } else if (socket.on) {\n      socket.on = false;\n      setDisplayStudent(false); // socket.emit(\"stop request\", socket.sid);\n\n      setUserState(function (existing) {\n        existing[studentCurSocket] = defaultState;\n        return existing;\n      });\n    } else {\n      socket.on = true;\n      setDisplayStudent(true);\n      setUserState(function (existing) {\n        Object.keys(existing).forEach(function (key) {\n          existing[key] = defaultState;\n        });\n        existing[studentCurSocket] = connectedState;\n        console.log(existing);\n        return existing;\n      });\n    }\n  }\n\n  function logoutHandler() {\n    socket.emit(\"disconnect audio\", roomId);\n    authenticationService.logout();\n    setConnectedUsers([]);\n    socket.removeAllListeners();\n    socket.disconnect();\n    socket.emit(\"room update\");\n    setSocketFlag(false); // setCurUser(null);\n  }\n\n  var drawer = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, connectedUsers.map(function (text, index) {\n    return /*#__PURE__*/React.createElement(CustomEntry, {\n      key: text.SktId,\n      style: userState[text.SktId],\n      disablePadding: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListItemButton, {\n      value: text.SktId,\n      onClick: function onClick() {\n        return loadStudentSession(text.curUser, text.SktId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: text.curUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    sx: {\n      width: {\n        sm: \"100%\"\n      },\n      ml: {\n        sm: \"\".concat(drawerWidth, \"px\")\n      },\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 1;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    sx: {\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    noWrap: true,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, \"Pacer\"), /*#__PURE__*/React.createElement(Button, {\n    position: \"fixed\",\n    component: \"div\",\n    className: \"logoutButton\",\n    variant: \"contained\",\n    color: \"error\",\n    sx: {\n      color: \"#fff\",\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 2;\n      }\n    },\n    onClick: logoutHandler //onClick={authenticationService.logout}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, \"Logout\"))), /*#__PURE__*/React.createElement(Box, {\n    component: \"nav\",\n    sx: {\n      width: {\n        sm: drawerWidth\n      },\n      flexShrink: {\n        sm: 0\n      }\n    },\n    \"aria-label\": \"mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    sx: {\n      display: {\n        sm: \"block\"\n      },\n      \"& .MuiDrawer-paper\": {\n        boxSizing: \"border-box\",\n        width: drawerWidth\n      }\n    },\n    anchor: \"right\",\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, drawer)), /*#__PURE__*/React.createElement(Notifications, {\n    msg: helpMsg,\n    variant: \"info\",\n    open: notificationToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default TeacherRightMenu;","map":{"version":3,"names":["AppBar","Box","CssBaseline","Divider","Drawer","PersonIcon","List","ListItem","ListItemButton","ListItemIcon","ListItemText","Toolbar","Typography","Button","styled","authenticationService","socket","React","useEffect","Notifications","CustomEntry","backgroundColor","boxShadow","connectedState","requestingHelpState","defaultState","TeacherRightMenu","drawerWidth","setDisplayStudent","setStudentName","connectedUsers","setConnectedUsers","roomId","setSocketFlag","setCurUser","console","log","useState","notificationToggle","setNotificationToggle","helpMsg","setHelpMsg","res","forEach","e","SktId","userState","setUserState","on","stuId","username","existing","msg","oldmsg","oldState","loadStudentSession","studentName","studentCurSocket","sid","Object","keys","key","emit","id","userRoom","logoutHandler","logout","removeAllListeners","disconnect","drawer","map","text","index","curUser","width","sm","ml","zIndex","theme","justifyContent","color","flexShrink","display","boxSizing"],"sources":["/Users/kw/Desktop/cscc09/project-pacer/frontend/src/components/TeacherRightMenu.jsx"],"sourcesContent":["import AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport { Button, styled } from \"@mui/material\";\nimport { authenticationService, socket } from \"../_services\";\n// [kw]\nimport React, { useEffect } from 'react';\nimport Notifications from './Notifications';\n\nconst CustomEntry = styled(ListItem)({\n  backgroundColor: 'var(--color)',\n  '& .MuiSlider-thumb': {\n    [`&:hover, &.Mui-focusVisible`]: {\n      boxShadow: '0px 0px 0px 8px var(--box-shadow)',\n    },\n    [`&.Mui-active`]: {\n      boxShadow: '0px 0px 0px 14px var(--box-shadow)',\n    },\n  },\n});\n\nconst connectedState = {\n  '--color': '#4caf50',\n  '--box-shadow': 'rgb(76, 175, 80, .16)',\n};\n\nconst requestingHelpState = {\n  '--color': '#FF8C00',\n  '--box-shadow': 'rgb(76, 175, 80, .16)',\n};\n\nconst defaultState = {\n  '--color': '#FFF',\n  '--box-shadow': 'rgb(25, 118, 210, .16)',\n};\n\n\nfunction TeacherRightMenu({ drawerWidth, setDisplayStudent, setStudentName, connectedUsers, setConnectedUsers, socket, roomId, setSocketFlag, setCurUser }) {\n  console.log(connectedUsers)\n  const [notificationToggle, setNotificationToggle] = React.useState(() => null);\n  const [helpMsg, setHelpMsg] = React.useState(() => \"default msg\");\n  const [userState, setUserState] = React.useState(() => {\n    let res = {}\n    connectedUsers.forEach(e => {\n      res[e.SktId] = defaultState\n    });\n    console.log(res)\n    return res\n  });\n  // const [isTriggered, setIsTriggered] = React.useState(() => \"\")\n\n  // React.useEffect(() => {\n  //   let timer = null\n  //   if (isTriggered) {\n  //     timer = setTimeout(() => {\n  //       setUserState((next) => {\n  //         if (next[isTriggered] === requestingHelpState) {\n  //           next[isTriggered] = defaultState\n  //           console.log(\"triggered\")\n  //           return next\n  //         }\n  //       })\n  //       setIsTriggered(false)\n  //     })\n  //   }\n  //   return () => clearTimeout(timer);\n  // }, [isTriggered])\n\n\n  React.useEffect(() => {\n    // todo-kw: revisit\n    // if (socket){\n      socket.on(\"help request\", (stuId, username) => {\n        console.log(\n          `[TeacherPage - help request] student [${username}] need help; student socket id: ${stuId} `\n        );\n        setUserState((existing) => {\n          if (existing[stuId] !== connectedState) {\n            existing[stuId] = requestingHelpState\n            console.log(existing)\n            // setIsTriggered(stuId)\n          }\n          return existing\n        });\n        const msg = `Help requested from student ${username}`\n        setHelpMsg(oldmsg => msg)\n        setNotificationToggle(oldState => !oldState)\n      });\n    // }\n  }, [])\n\n\n  function loadStudentSession(studentName, studentCurSocket) {\n    if (!socket.sid || socket.sid !== studentCurSocket){\n      console.log(`else right menu: ${socket.sid}`);\n      setUserState((existing) => {\n        Object.keys(existing).forEach(key => {\n          existing[key] = defaultState;\n        });\n        existing[studentCurSocket] = connectedState\n        console.log(existing)\n        return existing\n      });\n      setStudentName(studentName);\n\n      socket.on = true;\n      setDisplayStudent(true);\n      socket.emit(\"fetch code\", studentCurSocket, socket.id, socket.userRoom);\n    } else if (socket.on) {\n      socket.on = false;\n      setDisplayStudent(false);\n      // socket.emit(\"stop request\", socket.sid);\n\n      setUserState((existing) => {\n        existing[studentCurSocket] = defaultState\n        return existing\n      });\n    } else {\n      socket.on = true;\n      setDisplayStudent(true);\n\n      setUserState((existing) => {\n        Object.keys(existing).forEach(key => {\n          existing[key] = defaultState;\n        });\n        existing[studentCurSocket] = connectedState\n        console.log(existing)\n        return existing\n      });\n    }\n  }\n\n\n  function logoutHandler(){\n\n    socket.emit(\"disconnect audio\", roomId)\n\n    authenticationService.logout();\n    setConnectedUsers([]);\n    socket.removeAllListeners();\n    socket.disconnect();\n\n    socket.emit(\"room update\");\n    setSocketFlag(false);\n    // setCurUser(null);\n  }\n\n\n  const drawer = (\n    <div>\n      <Toolbar />\n      <Divider />\n      <List>\n        {connectedUsers.map((text, index) => (\n          <CustomEntry key={text.SktId} style={userState[text.SktId]} disablePadding>\n            <ListItemButton value={text.SktId} onClick={() => loadStudentSession(text.curUser, text.SktId, )}>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n              <ListItemText primary={text.curUser}/>\n            </ListItemButton>\n          </CustomEntry>\n        ))}\n      </List>\n      <Divider />\n    </div>\n  );\n\n  return (\n    <Box>\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          width: { sm: `100%` },\n          ml: { sm: `${drawerWidth}px` },\n          zIndex: (theme) => theme.zIndex.drawer + 1,\n        }}\n      >\n        <Toolbar sx={{ justifyContent: \"space-between\" }}>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Pacer\n          </Typography>\n          <Button\n            position=\"fixed\"\n            component=\"div\"\n            className=\"logoutButton\"\n            variant=\"contained\"\n            color=\"error\"\n            sx={{\n              color: \"#fff\",\n              zIndex: (theme) => theme.zIndex.drawer + 2,\n            }}\n            onClick={logoutHandler}\n            //onClick={authenticationService.logout}\n          >\n            Logout\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n        aria-label=\"mailbox folders\"\n      >\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { sm: \"block\" },\n            \"& .MuiDrawer-paper\": {\n              boxSizing: \"border-box\",\n              width: drawerWidth,\n            },\n          }}\n          anchor=\"right\"\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n    <Notifications msg={helpMsg} variant=\"info\" open={notificationToggle} />\n    </Box>\n  );\n}\n\nexport default TeacherRightMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}