{"ast":null,"code":"import _slicedToArray from \"/Users/kw/Desktop/cscc09/project-pacer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kw/Desktop/cscc09/project-pacer/frontend/src/LoginPage.jsx\";\nimport { useState, useEffect } from 'react';\nimport { authenticationService } from './_services';\nimport Box from \"@mui/material/Box\";\nimport Stack from '@mui/material/Stack';\nimport Button from \"@mui/material/Button\";\nimport { styled } from '@mui/material/styles';\nimport Radio, { RadioProps } from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport Alert from '@mui/material/Alert';\nimport { history } from './_helpers';\nimport { useNavigate } from \"react-router-dom\";\nimport \"./LoginPage.css\"; // [kw]\n\nimport React from 'react';\nimport { Input, InputLabel } from '@mui/material';\nvar adminIdentified = false;\n\nfunction LoginPage(_ref) {\n  var curUser = _ref.curUser,\n      isAdmin = _ref.isAdmin,\n      roomId = _ref.roomId,\n      setIsAdmin = _ref.setIsAdmin,\n      socket = _ref.socket;\n\n  var _useState = useState(function () {\n    return '';\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(function () {\n    return '';\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1]; // todo: pass socket id as a student attribute\n  // suggest: store socket id as a list for the case that multiple windows/devices\n  // logins with the same user\n  // const [socketid, setSocketid] = useState(socket.id);\n\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showAlert = _useState6[0],\n      setShowAlert = _useState6[1];\n\n  var navigate = useNavigate();\n\n  function updateUserName(e) {\n    setUsername(e.target.value);\n  }\n\n  function updatePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  useEffect(function () {\n    adminIdentified = false;\n\n    if (curUser) {\n      console.log(\"already logged in\");\n\n      if (roomId) {\n        if (isAdmin) navigate(\"/teacher\", {\n          replace: true\n        });else navigate('/student', {\n          replace: true\n        });\n      } else {\n        navigate(\"/rooms\", {\n          replace: true\n        });\n      }\n    }\n\n    console.log(\"login page loaded\");\n  }, []);\n\n  var handleLogin = function handleLogin(e) {\n    e.preventDefault();\n\n    if (!adminIdentified) {\n      setShowAlert(\"Select a role first!\");\n      return;\n    }\n\n    if (isAdmin) {\n      console.log(\"logging as admin\");\n      authenticationService.signin(username, password, \"Admin\", function (err, res) {\n        // authenticationService.signin(username, password, \"Admin\", socketid, function(err, res) {\n        if (err) return setShowAlert(String(err));\n\n        if (!socket.connected) {\n          socket.connect();\n          console.log(\"APP - login socket id: \".concat(socket.id, \", \").concat(socket.connected));\n        }\n\n        navigate(\"/rooms\", {\n          replace: true\n        });\n      });\n    } else {\n      console.log(\"logging as student\");\n      authenticationService.signin(username, password, \"User\", function (err, res) {\n        // authenticationService.signin(username, password, \"User\", socketid, function(err,res) {\n        if (err) return setShowAlert(String(err));\n\n        if (!socket.connected) {\n          socket.connect();\n          console.log(\"APP - login socket id: \".concat(socket.id, \", \").concat(socket.connected));\n        }\n\n        navigate(\"/rooms\", {\n          replace: true\n        });\n      });\n    }\n  };\n\n  var handleSignup = function handleSignup(e) {\n    e.preventDefault();\n\n    if (!adminIdentified) {\n      setShowAlert(\"Select a role first!\");\n      return;\n    }\n\n    if (isAdmin) {\n      console.log(\"signing up as admin\");\n      authenticationService.signup(username, password, \"Admin\", function (err, res) {\n        if (err) return setShowAlert(String(err));\n\n        if (!socket.connected) {\n          socket.connect();\n          console.log(\"APP - login socket id: \".concat(socket.id, \", \").concat(socket.connected));\n        }\n\n        navigate(\"/rooms\", {\n          replace: true\n        });\n      });\n    } else {\n      console.log(\"signing up as student\");\n      authenticationService.signup(username, password, \"User\", function (err, res) {\n        if (err) return setShowAlert(String(err));\n\n        if (!socket.connected) {\n          socket.connect();\n          console.log(\"APP - login socket id: \".concat(socket.id, \", \").concat(socket.connected));\n        }\n\n        navigate(\"/rooms\", {\n          replace: true\n        });\n      });\n    }\n  };\n\n  var updateRole = function updateRole(adminChange) {\n    adminIdentified = true;\n    setIsAdmin(adminChange);\n  };\n\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    className: \"LoginBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, showAlert && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, showAlert), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"loginForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"User\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"username\",\n    name: \"username\",\n    value: username,\n    autoFocus: true,\n    onChange: updateUserName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: updatePassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"Login/Signup As:\"), /*#__PURE__*/React.createElement(RadioGroup, {\n    row: true,\n    \"aria-labelledby\": \"role-select\",\n    name: \"role-select-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    onChange: function onChange(e) {\n      return updateRole(true);\n    },\n    value: true,\n    control: /*#__PURE__*/React.createElement(BpRadio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 88\n      }\n    }),\n    label: \"Teacher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    onChange: function onChange(e) {\n      return updateRole(false);\n    },\n    value: false,\n    control: /*#__PURE__*/React.createElement(BpRadio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 90\n      }\n    }),\n    label: \"Student\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    color: \"success\",\n    onClick: handleLogin,\n    sx: {\n      color: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, \"SignIn\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    color: \"success\",\n    onClick: handleSignup,\n    sx: {\n      color: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, \"SignUp\"))))));\n}\n\nvar BpIcon = styled('span')(function (_ref2) {\n  var theme = _ref2.theme;\n  return {\n    borderRadius: '50%',\n    width: 16,\n    height: 16,\n    boxShadow: theme.palette.mode === 'dark' ? '0 0 0 1px rgb(16 22 26 / 40%)' : 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\n    backgroundColor: theme.palette.mode === 'dark' ? '#394b59' : '#f5f8fa',\n    backgroundImage: theme.palette.mode === 'dark' ? 'linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))' : 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\n    '.Mui-focusVisible &': {\n      outline: '2px auto rgba(19,124,189,.6)',\n      outlineOffset: 2\n    },\n    'input:hover ~ &': {\n      backgroundColor: theme.palette.mode === 'dark' ? '#30404d' : '#ebf1f5'\n    },\n    'input:disabled ~ &': {\n      boxShadow: 'none',\n      background: theme.palette.mode === 'dark' ? 'rgba(57,75,89,.5)' : 'rgba(206,217,224,.5)'\n    }\n  };\n});\nvar BpCheckedIcon = styled(BpIcon)({\n  backgroundColor: '#137cbd',\n  backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\n  '&:before': {\n    display: 'block',\n    width: 16,\n    height: 16,\n    backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\n    content: '\"\"'\n  },\n  'input:hover ~ &': {\n    backgroundColor: '#106ba3'\n  }\n}); // Inspired by blueprintjs\n\nfunction BpRadio(props) {\n  return /*#__PURE__*/React.createElement(Radio, Object.assign({\n    sx: {\n      '&:hover': {\n        bgcolor: 'transparent'\n      }\n    },\n    disableRipple: true,\n    color: \"default\",\n    checkedIcon: /*#__PURE__*/React.createElement(BpCheckedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 22\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(BpIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    })\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default LoginPage;","map":{"version":3,"names":["useState","useEffect","authenticationService","Box","Stack","Button","styled","Radio","RadioProps","RadioGroup","FormControlLabel","FormControl","FormLabel","Alert","history","useNavigate","React","Input","InputLabel","adminIdentified","LoginPage","curUser","isAdmin","roomId","setIsAdmin","socket","username","setUsername","password","setPassword","showAlert","setShowAlert","navigate","updateUserName","e","target","value","updatePassword","console","log","replace","handleLogin","preventDefault","signin","err","res","String","connected","connect","id","handleSignup","signup","updateRole","adminChange","color","BpIcon","theme","borderRadius","width","height","boxShadow","palette","mode","backgroundColor","backgroundImage","outline","outlineOffset","background","BpCheckedIcon","display","content","BpRadio","props","bgcolor"],"sources":["/Users/kw/Desktop/cscc09/project-pacer/frontend/src/LoginPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { authenticationService } from './_services';\nimport Box from \"@mui/material/Box\";\nimport Stack from '@mui/material/Stack';\nimport Button from \"@mui/material/Button\";\nimport { styled } from '@mui/material/styles';\nimport Radio, { RadioProps } from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport Alert from '@mui/material/Alert';\nimport { history } from './_helpers';\nimport { useNavigate } from \"react-router-dom\";\nimport \"./LoginPage.css\";\n// [kw]\nimport React from 'react';\nimport { Input, InputLabel } from '@mui/material';\n\nlet adminIdentified = false;\n\nfunction LoginPage({curUser, isAdmin, roomId, setIsAdmin, socket}) {\n  const [username, setUsername] = useState(() => '');\n  const [password, setPassword] = useState(() => '');\n  // todo: pass socket id as a student attribute\n  // suggest: store socket id as a list for the case that multiple windows/devices\n  // logins with the same user\n  // const [socketid, setSocketid] = useState(socket.id);\n  const [showAlert, setShowAlert] = useState(\"\");\n  const navigate = useNavigate();\n\n  function updateUserName(e) {\n    setUsername(e.target.value)\n  }\n\n  function updatePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  useEffect(() => {\n    adminIdentified = false\n    if (curUser) {\n      console.log(\"already logged in\")\n      if (roomId) {\n        if (isAdmin) \n        navigate(\"/teacher\", { replace: true });\n        else navigate('/student', { replace: true });\n      } else {\n        navigate(\"/rooms\", { replace: true })\n      }\n    }\n    console.log(\"login page loaded\")\n  }, []);\n\n  const handleLogin = (e) => {\n    e.preventDefault()\n    if (!adminIdentified) {\n        setShowAlert(\"Select a role first!\")\n        return\n    }\n    if (isAdmin) {\n      console.log(\"logging as admin\")\n      authenticationService.signin(username, password, \"Admin\", function(err, res) {\n        // authenticationService.signin(username, password, \"Admin\", socketid, function(err, res) {\n        if (err) return setShowAlert(String(err))\n        if (!socket.connected) {\n          socket.connect()\n          console.log(`APP - login socket id: ${socket.id}, ${socket.connected}`)\n        }\n        navigate(\"/rooms\", { replace: true });\n      })\n    } else {\n      console.log(\"logging as student\")\n      authenticationService.signin(username, password, \"User\", function(err,res) {\n        // authenticationService.signin(username, password, \"User\", socketid, function(err,res) {\n        if (err) return setShowAlert(String(err))\n        if (!socket.connected) {\n          socket.connect()\n          console.log(`APP - login socket id: ${socket.id}, ${socket.connected}`)\n        }\n        navigate(\"/rooms\", { replace: true });\n      })\n    }\n  };\n\n  const handleSignup = (e) => {\n    e.preventDefault()\n    if (!adminIdentified) {\n        setShowAlert(\"Select a role first!\")\n        return\n    }\n    if (isAdmin) {\n      console.log(\"signing up as admin\")\n      authenticationService.signup(username, password, \"Admin\", function(err, res) {\n        if (err) return setShowAlert(String(err))\n        if (!socket.connected) {\n          socket.connect()\n          console.log(`APP - login socket id: ${socket.id}, ${socket.connected}`)\n        }\n        navigate(\"/rooms\", { replace: true });\n      })\n    } else {\n      console.log(\"signing up as student\")\n      authenticationService.signup(username, password, \"User\", function(err,res) {\n        if (err) return setShowAlert(String(err))\n        if (!socket.connected) {\n          socket.connect()\n          console.log(`APP - login socket id: ${socket.id}, ${socket.connected}`)\n        }\n        navigate(\"/rooms\", { replace: true });\n      })\n    }\n  };\n\n  const updateRole = (adminChange) => {\n    adminIdentified = true;\n    setIsAdmin(adminChange);\n\n  }\n\n  return (\n    <Box display=\"flex\" justifyContent=\"center\" className=\"LoginBox\">\n        <Stack spacing={2}>\n        {showAlert && <Alert severity=\"error\">{showAlert}</Alert>}\n        <form className=\"loginForm\">\n          <Stack spacing={2}>\n          <FormControl required>\n            <InputLabel htmlFor=\"username\">User</InputLabel>\n            <Input id=\"username\" name=\"username\" value={username} autoFocus onChange={updateUserName} />\n          </FormControl>\n          <FormControl required>\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\n            <Input id=\"password\" type=\"password\" name=\"password\" value={password} onChange={updatePassword} />\n          </FormControl>\n          <FormControl required>\n            <p>Login/Signup As:</p>\n            <RadioGroup\n              row\n              aria-labelledby=\"role-select\"\n              name=\"role-select-group\"\n            >\n              <FormControlLabel onChange={e => updateRole(true)} value={true} control={<BpRadio />} label=\"Teacher\" />\n              <FormControlLabel onChange={e => updateRole(false)} value={false} control={<BpRadio />} label=\"Student\" />\n            </RadioGroup>\n          </FormControl>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n          <Button \n            variant=\"contained\"\n            type=\"submit\"\n            color=\"success\"\n            onClick={handleLogin}\n            sx={{ color: \"#fff\" }}\n          >\n            SignIn\n          </Button>\n          <Button \n            variant=\"contained\"\n            type=\"submit\"\n            color=\"success\"\n            onClick={handleSignup}\n            sx={{ color: \"#fff\" }}\n          >\n            SignUp\n          </Button>\n          </Box>\n          \n          </Stack>\n        </form>\n        </Stack>\n    </Box>\n  );\n}\n\nconst BpIcon = styled('span')(({ theme }) => ({\n    borderRadius: '50%',\n    width: 16,\n    height: 16,\n    boxShadow:\n      theme.palette.mode === 'dark'\n        ? '0 0 0 1px rgb(16 22 26 / 40%)'\n        : 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\n    backgroundColor: theme.palette.mode === 'dark' ? '#394b59' : '#f5f8fa',\n    backgroundImage:\n      theme.palette.mode === 'dark'\n        ? 'linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))'\n        : 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\n    '.Mui-focusVisible &': {\n      outline: '2px auto rgba(19,124,189,.6)',\n      outlineOffset: 2,\n    },\n    'input:hover ~ &': {\n      backgroundColor: theme.palette.mode === 'dark' ? '#30404d' : '#ebf1f5',\n    },\n    'input:disabled ~ &': {\n      boxShadow: 'none',\n      background:\n        theme.palette.mode === 'dark' ? 'rgba(57,75,89,.5)' : 'rgba(206,217,224,.5)',\n    },\n  }));\n  \n  const BpCheckedIcon = styled(BpIcon)({\n    backgroundColor: '#137cbd',\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\n    '&:before': {\n      display: 'block',\n      width: 16,\n      height: 16,\n      backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\n      content: '\"\"',\n    },\n    'input:hover ~ &': {\n      backgroundColor: '#106ba3',\n    },\n  });\n  \n  // Inspired by blueprintjs\n  function BpRadio(props: RadioProps) {\n    return (\n      <Radio\n        sx={{\n          '&:hover': {\n            bgcolor: 'transparent',\n          },\n        }}\n        disableRipple\n        color=\"default\"\n        checkedIcon={<BpCheckedIcon />}\n        icon={<BpIcon />}\n        {...props}\n      />\n    );\n  }\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}